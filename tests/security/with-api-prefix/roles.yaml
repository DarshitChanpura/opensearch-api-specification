$schema: ../../../json_schemas/test_story.schema.yaml

description: Test roles endpoints.

chapters:
  - synopsis: Get roles bulk.
    path: /_plugins/_security/api/roles
    method: GET
    response:
      status: 200
  - synopsis: Patch roles bulk.
    path: /_plugins/_security/api/roles
    method: PATCH
    request_body:
      payload:
        op:
        path:
        value:
    response:
      status: 200
  - synopsis: Create role.
    path: /_plugins/_security/api/roles/{role}
    method: PUT
    parameters:
      role: test
    request_body:
      payload:
        reserved:
        hidden:
        description:
        cluster_permissions:
        index_permissions:
          index_patterns: []
          dls:
          fls: []
          masked_fields: []
          allowed_actions: []
        tenant_permissions:
          tenant_patterns: []
          allowed_actions: []
        static:
    response:
      status: 200
  - synopsis: Get role.
    path: /_plugins/_security/api/roles/{role}
    method: GET
    parameters:
      role: test
    response:
      status: 200
  - synopsis: Patch role.
    path: /_plugins/_security/api/roles/{role}
    method: PATCH
    parameters:
      role: test
    request_body:
      payload:
        op:
        path:
        value:
    response:
      status: 200
  - synopsis: Delete role.
    path: /_plugins/_security/api/roles/{role}
    method: DELETE
    parameters:
      role: test
    response:
      status: 200

